---
// src/pages/contact.astro
import Base from "../layouts/Base.astro";

const PAGE_TITLE = "Contact ‚Ä¢ Vanished Brands Archive";
const PAGE_DESC =
  "Get in touch about support, brand suggestions, data corrections, collaborations, or general feedback.";
const CANONICAL = Astro.site
  ? new URL("/contact/", Astro.site).href
  : "/contact/";
---

<Base title={PAGE_TITLE} description={PAGE_DESC}>
  <!-- üîé SEO head -->
  <Fragment slot="head">
    <link rel="canonical" href={CANONICAL} />
    <meta name="description" content={PAGE_DESC} />

    <meta property="og:type" content="website" />
    <meta property="og:url" content={CANONICAL} />
    <meta property="og:title" content={PAGE_TITLE} />
    <meta property="og:description" content={PAGE_DESC} />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content={PAGE_TITLE} />
    <meta name="twitter:description" content={PAGE_DESC} />
  </Fragment>

  <!-- Breadcrumbs -->
  <nav class="mb-4 flex flex-wrap gap-2">
    <a href="/" class="chip focus-ring">‚Üê Home</a>
    <span class="chip opacity-70 cursor-default" aria-current="page">Contact</span>
  </nav>

  <main class="pb-16">
    <!-- Page header -->
    <section class="mt-2 md:mt-3">
      <h1 class="text-2xl md:text-3xl font-bold">
        Contact the Vanished Brands Archive
      </h1>
      <p class="mt-2 text-slate-600 dark:text-slate-300 max-w-2xl">
        Have a brand we should add, spotted an error in the data, or need help?
        Use the form below to get in touch. Messages may inform future updates,
        research priorities, and fixes.
      </p>
    </section>

    <!-- Contact form -->
    <section class="mt-8">
      <!-- Netlify form: configure notifications in the Netlify dashboard -->
      <form
        name="contact"
        method="POST"
        action="/contact/thanks/"
        data-netlify="true"
        netlify-honeypot="bot-field"
        class="mt-4 grid gap-5 max-w-2xl rounded-lg border border-slate-200 dark:border-slate-700
               bg-white/80 dark:bg-slate-900/60 p-5 md:p-6 shadow-sm"
      >
        <!-- Required for Netlify -->
        <input type="hidden" name="form-name" value="contact" />

        <!-- Honeypot field -->
        <p class="hidden">
          <label>
            Don‚Äôt fill this out if you‚Äôre human:
            <input name="bot-field" />
          </label>
        </p>

        <!-- Reason / type -->
        <div>
          <label
            class="block text-sm font-medium text-slate-800 dark:text-slate-100 mb-1"
            for="reason"
          >
            What are you reaching out about?
          </label>
          <div class="relative">
            <select
              id="reason"
              name="reason"
              required
              class="block w-full rounded-md border border-slate-300 dark:border-slate-700
                     !bg-white dark:!bg-slate-900 px-3 py-2 pr-10 text-sm
                     !text-slate-900 dark:!text-slate-100 shadow-sm
                     focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500
                     appearance-none cursor-pointer"
            >
              <option value="" class="!bg-white !text-slate-500 dark:!bg-slate-900 dark:!text-slate-400">Select an option‚Ä¶</option>
              <option value="support" class="!bg-white !text-slate-900 dark:!bg-slate-900 dark:!text-slate-100">Support / bug report</option>
              <option value="brand-suggestion" class="!bg-white !text-slate-900 dark:!bg-slate-900 dark:!text-slate-100">Suggest a brand to research</option>
              <option value="data-correction" class="!bg-white !text-slate-900 dark:!bg-slate-900 dark:!text-slate-100">Data correction / accuracy issue</option>
              <option value="collaboration" class="!bg-white !text-slate-900 dark:!bg-slate-900 dark:!text-slate-100">Collaboration / press / academic use</option>
              <option value="other" class="!bg-white !text-slate-900 dark:!bg-slate-900 dark:!text-slate-100">Something else</option>
            </select>
            <!-- Custom dropdown arrow -->
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-700 dark:text-slate-300">
              <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
              </svg>
            </div>
          </div>
        </div>

        <!-- Contact details -->
        <div class="grid gap-4 md:grid-cols-2">
          <div>
            <label
              class="block text-sm font-medium text-slate-800 dark:text-slate-100 mb-1"
              for="name"
            >
              Your name (optional)
            </label>
            <input
              id="name"
              name="name"
              type="text"
              autocomplete="name"
              class="block w-full rounded-md border border-slate-300 dark:border-slate-700
                     bg-white dark:bg-slate-900 px-3 py-2 text-sm
                     text-slate-900 dark:text-slate-100 shadow-sm
                     focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
            />
          </div>

          <div>
            <label
              class="block text-sm font-medium text-slate-800 dark:text-slate-100 mb-1"
              for="email"
            >
              Email (so I can reply)
            </label>
            <input
              id="email"
              name="email"
              type="email"
              required
              autocomplete="email"
              class="block w-full rounded-md border border-slate-300 dark:border-slate-700
                     bg-white dark:bg-slate-900 px-3 py-2 text-sm
                     text-slate-900 dark:text-slate-100 shadow-sm
                     focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
            />
          </div>
        </div>

        <!-- Extra fields for brand suggestions / data questions -->
        <div class="grid gap-4 md:grid-cols-2">
          <div>
            <label
              class="block text-sm font-medium text-slate-800 dark:text-slate-100 mb-1"
              for="brandName"
            >
              Brand name (if applicable)
            </label>
            <input
              id="brandName"
              name="brandName"
              type="text"
              placeholder="e.g., Circuit City"
              class="block w-full rounded-md border border-slate-300 dark:border-slate-700
                     bg-white dark:bg-slate-900 px-3 py-2 text-sm
                     text-slate-900 dark:text-slate-100 shadow-sm
                     focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
            />
          </div>

          <div>
            <label
              class="block text-sm font-medium text-slate-800 dark:text-slate-100 mb-1"
              for="brandYears"
            >
              Active years (approx., optional)
            </label>
            <input
              id="brandYears"
              name="brandYears"
              type="text"
              placeholder="e.g., 1985‚Äì2009"
              class="block w-full rounded-md border border-slate-300 dark:border-slate-700
                     bg-white dark:bg-slate-900 px-3 py-2 text-sm
                     text-slate-900 dark:text-slate-100 shadow-sm
                     focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
            />
          </div>
        </div>

        <!-- Message -->
        <div>
          <label
            class="block text-sm font-medium text-slate-800 dark:text-slate-100 mb-1"
            for="message"
          >
            Message
          </label>
          <textarea
            id="message"
            name="message"
            required
            rows={6}
            placeholder="Tell me about the issue, your brand suggestion, data point to fix, or anything else that might help."
            class="block w-full rounded-md border border-slate-300 dark:border-slate-700
                   bg-white dark:bg-slate-900 px-3 py-2 text-sm
                   text-slate-900 dark:text-slate-100 shadow-sm
                   focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
          ></textarea>
          <p class="mt-1 text-xs text-slate-500 dark:text-slate-400">
            For brand suggestions, links to sources (news articles, old ads, Wikipedia, etc.) are very helpful.
          </p>
        </div>

        <!-- Submit -->
        <div class="flex items-center gap-3 pt-2">
          <button
            type="submit"
            class="inline-flex items-center justify-center rounded-md bg-indigo-600 px-4 py-2
                   text-sm font-medium text-white shadow-sm hover:bg-indigo-700
                   focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
          >
            Send message
          </button>
          <p class="text-xs text-slate-500 dark:text-slate-400">
            This form is processed by Netlify Forms. I‚Äôll follow up when a reply is needed or
            when suggestions can be incorporated.
          </p>
        </div>
      </form>

      <!-- Mailto fallback -->
      <p class="mt-6 text-sm text-slate-600 dark:text-slate-300 max-w-2xl">
        Prefer email? You can also write to
        <a
          href="mailto:hello@vanishedbrands.com"
          class="underline decoration-indigo-500 decoration-2 underline-offset-2 hover:decoration-indigo-600"
        >
          hello@vanishedbrands.com
        </a>.
      </p>
    </section>
  </main>
</Base>
