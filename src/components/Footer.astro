---
const fallbackSlug = Astro.props.fallbackSlug ?? "blockbuster";
---

<!-- Full-bleed divider (prevents â€œweirdâ€ clipped border) -->
<div
  aria-hidden="true"
  class="w-screen h-px bg-slate-200 dark:bg-slate-700
         relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw]"
></div>

<footer
  class="relative max-w-[1040px] mx-auto px-4
         mt-8 md:mt-12            /* a bit tighter now that divider is outside */
         pb-10 md:pb-14
         mb-[env(safe-area-inset-bottom)]
         text-sm text-slate-600 dark:text-slate-400
         bg-white/70 dark:bg-slate-900/40
         backdrop-blur-[2px] rounded-b-2xl"
  role="contentinfo"
>
  <!-- Hidden site descriptor (SEO + a11y, no UI change) -->
  <p class="sr-only">
    VanishedBrands â€” an archive of discontinued and defunct brands, with timelines, categories, decades,
    and a downloadable CSV dataset for research and journalism.
  </p>

  <!-- Inner content (no border here anymore) -->
  <div class="pt-5 md:pt-6 flex flex-wrap items-center gap-3 justify-between">

    <!-- CTA row: small screens -->
    <nav class="flex gap-3 md:hidden" aria-label="Footer quick links">
      <a
        href="/az/"
        class="chip focus-ring motion-safe:transition-colors motion-safe:duration-150 motion-reduce:transition-none"
        title="Browse all brands Aâ€“Z"
        aria-label="Browse all defunct brands A to Z"
      >
        Browse A&ndash;Z
      </a>

      <a
        href="/data/"
        class="chip focus-ring motion-safe:transition-colors motion-safe:duration-150 motion-reduce:transition-none"
        title="Download the Defunct Brands CSV dataset"
        aria-label="Defunct Brands CSV dataset"
      >
        Data (CSV)
      </a>

      <a
        href={`/brand/${fallbackSlug}/`}
        class="btn-primary focus-ring motion-safe:transition-colors motion-safe:duration-150 motion-reduce:transition-none"
        aria-label="Go to a random brand page"
        title="Random defunct brand"
        data-random
        onclick="return window.__goRandomBrand ? window.__goRandomBrand(event) : true"
      >
        Random
      </a>
    </nav>

    <!-- CTA row: md+ screens -->
    <nav class="hidden md:flex gap-3" aria-label="Footer quick links (desktop)">
      <a href="/az/" class="chip focus-ring" title="Browse all brands Aâ€“Z" aria-label="Browse all defunct brands A to Z">
        Browse A&ndash;Z
      </a>
      <a href="/data/" class="chip focus-ring" title="Download the Defunct Brands CSV dataset" aria-label="Defunct Brands CSV dataset">
        Data (CSV)
      </a>
      <a
        href={`/brand/${fallbackSlug}/`}
        class="btn-primary focus-ring"
        aria-label="Go to a random brand page"
        title="Random defunct brand"
        data-random
        onclick="return window.__goRandomBrand ? window.__goRandomBrand(event) : true"
      >
        Random
      </a>
    </nav>
  </div>

  <!-- ðŸ”Š Screen-reader live announcements -->
  <div id="live-region" aria-live="polite" class="sr-only"></div>

  <!-- Invisible discoverability links -->
  <div class="sr-only">
    <a href="/sitemap-index.xml">Sitemap</a>
    <a href="/robots.txt">Robots.txt</a>
  </div>
</footer>
